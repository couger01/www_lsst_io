// For section elements that includes a c-project-tile-grid along with
// optional elements like a header and footer.
.c-tile-section + .c-tile-section {
  margin-top: 5em;
}

.c-project-tile-grid {
  display: grid;
  grid-auto-flow: row;
  grid-auto-rows: auto;
  grid-gap: 1em;
  // Responsive grid; tiles can stretch to fill the space, but are still
  // constrained.
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  // Equal height grid items.
  align-items: stretch;  // equal height grid items
  margin-bottom: 2em;
}

.c-project-tile {
  border-radius: 4px;
  background-color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);
  padding: 10px;

  &__header {
    display: flex;
    flex-direction: column;
    // This is a hack to remove the 1 line height top padding that this
    // flex container gets with flex-direction column and the title/subtitle
    // order reversed.
    margin-top: -$inuit-global-line-height;
  }

  &__title {
    order: 2;
    margin-bottom: 0.5em;
    @include source-sans-bold;
    line-height: 1.1;
  }

  &__subtitle {
    order: 1;
    margin: 0;
    padding: 0;
    @include source-sans-bold;
  }

  &__authors {
    margin-bottom: 1em;
  }

  // Hack to push the datetime down the tile.
  // I'm not entirely sure why we need to eat up the bottom margin.
  &__description + &__datetime {
    margin-top: 1em;
    margin-bottom: -1em;
  }

  &__description {
    // Constrain the height of the description text.
    max-height: 200px;
    overflow: auto;

    // Use the shadow effect to give the users a hint that they can scroll
    // This is based on Chapter 34 of CSS Secrets by Lea Verou.
    background: linear-gradient(white 15px, hsla(0,0%,100%,0)) 0 0 / 100% 50px,
                radial-gradient(at top, rgba(0,0,0,0.2), transparent 70%) 0 0 / 100% 15px,
                linear-gradient(to top, white 15px, hsla(0,0%,100%,0)) bottom / 100% 50px,
                radial-gradient(at bottom, rgba(0,0,0,0.2), transparent 70%) bottom / 100% 15px;
    background-repeat: no-repeat;
    background-attachment: local, scroll, local, scroll;
  }
}
